generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model DonorProfile {
  id               String     @id @default(cuid())
  clerkUserId      String     @unique
  bloodType        String
  dateOfBirth      DateTime
  weight           Float
  lastDonationDate DateTime?
  medicalHistory   String[]
  donations        Donation[]
  createdAt        DateTime   @default(now())
  updatedAt        DateTime   @updatedAt
}

model Donation {
  id        String         @id @default(cuid())
  donorId   String
  date      DateTime
  location  String
  status    DonationStatus @default(SCHEDULED)
  donor     DonorProfile   @relation(fields: [donorId], references: [clerkUserId])
  createdAt DateTime       @default(now())
  updatedAt DateTime       @updatedAt
}

enum DonationStatus {
  SCHEDULED
  COMPLETED
  CANCELLED
}
